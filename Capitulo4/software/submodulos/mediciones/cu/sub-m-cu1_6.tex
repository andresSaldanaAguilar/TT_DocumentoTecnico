\subsubsection{SUB-M-CU1.6-Ver Reporte de Históricos}\label{SUB-M-CU1.6}
La visualización de reportes históricos tendrá lugar de acuerdo a los periodos establecidos en la Regla de Negocio \ref{RN4} , donde se mostrará la gráfica de barras correspondiente al  intervalo seleccionado, la comunicación se realizara mediante el patrón de intercambio de mensajes de la Regla de Negocio \ref{RN8} con el formato de datos establecido en la Regla de Negocio \ref{RN11} .

\begin{longtable}{|J{5cm}|J{10.3cm}|}
	\hline
	\textbf{Nombre del caso de uso} &
		SUB-M-CU1.6-Ver Reporte de Históricos \\ \hline
	\textbf{Objetivo} &
		Graficar el periodo seleccionado por el usuario en la sección de históricos, en formato de barras. \\ \hline
	\textbf{Actores} &
		\begin{itemize}
			\item Servidor embebido
			\item Aplicación de Usuario
			\item Usuario 
		\end{itemize} \\ \hline
	\textbf{Disparador} & 
		El usuario selecciona del menú de navegación la sección de históricos. \\ \hline 
	\textbf{Entradas} & 
		\begin{itemize}
			\item{[Servidor]} Valor seleccionado del menú desplegable
		\end{itemize}\\ \hline 
	\textbf{Salidas} & 
		\begin{itemize}
			\item{[Servidor]} Valores del Intervalo de tiempo requerido
		\end{itemize} \\ \hline
	\textbf{Precondiciones} &
		Ninguna.\\ \hline
	\textbf{Postcondiciones} &
		Ninguna.\\ \hline
	\textbf{Condiciones de término} & 
		\begin{itemize}
			\item La aplicación de usuario recibe los valores requeridos y los grafíca.
		\end{itemize} \\ \hline 
	\textbf{Prioridad} & 
		Alta. \\ \hline
	\textbf{Errores} & 
		\begin{itemize}
		    \item \label{CU5:Error1} Error 1: Sin conexión con el servidor.
			\item \label{CU5:Error2} Error 2: El promedio requerido no existe en el servidor o es nulo su valor asociado.
		    \item \label{CU5:Error3} Error 3: Sin conexión con el cliente.
			
		\end{itemize} \\ \hline
	\textbf{Reglas de negocio} & 
		\begin{itemize}
		    \item \ref{RN4}
		    \item \ref{RN6}
			\item \ref{RN8}
			\item \ref{RN11}
		\end{itemize} \\ \hline

\end{longtable}

\paragraph{Trayectoria principal}
    \label{SUB-M-CU1.5:TP}
	\begin{enumerate}
	    \item {[Usuario]} Selecciona Históricos en el menú de navegación. \hyperref[SUB-M-CU6:TA]{[Trayectoria alternativa A]} 
		\item {[Aplicación de Usuario]} Envía como el valor semanal como petición por defecto. \hyperref[SUB-M-CU6:TB]{[Trayectoria alternativa B]} 
		\item {[Servidor]} Recibe la petición, consigue los valores semanales/mensuales/bimestrales tomando como intervalo la semana/mes/año en curso. \hyperref[SUB-M-CU6:TC]{[Trayectoria alternativa C]} 
		\item {[Servidor]} Envía los valores como respuesta a la aplicación de usuario. \hyperref[SUB-M-CU6:TD]{[Trayectoria alternativa D]}
        \item {[Aplicación de Usuario]} Recibe la respuesta del servidor, muestra la pantalla de usuario \hyperref[fig:Historial Semanal]{[IU2.1-Historial Semanal]} y gráfica el arreglo de valores obtenidos \ref{RN11} \hyperref[SUB-M-CU6:TE]{[Trayectoria alternativa E]}
	\end{enumerate}
	Fin del caso de uso.

\paragraph{Trayectoria alternativa A} \label{SUB-M-CU6:TA}
    El usuario ya esta en la pantalla de usuario \hyperref[fig:Historial Semanal]{[IU2.1-Historial Semanal]}
	\begin{enumerate}[label=A\arabic*.]
	    \item {[Usuario]} Selecciona una opción del menú desplegable de la pantalla de usuario \hyperref[fig:Opciones de Intervalo]{[IU2.4-Opciones de Intervalo]}
	    \item {[Aplicación de Usuario]} Envía como petición el valor seleccionado por el usuario \hyperref[SUB-M-CU6:TB]{[Trayectoria alternativa B]} 
	    \item Retorna al 3 de la trayectoria principal \hyperref[SUB-M-CU6:TP]{[Trayectoria Principal]}
	\end{enumerate}
	Fin de la trayectoria alternativa.
	
\paragraph{Trayectoria alternativa B} \label{SUB-M-CU5:TB}
	Sin conexión con el servidor.
	\begin{enumerate}[label=B\arabic*.]
		\item {[Aplicación de usuario]} Genera una excepción, muestra la ventana emergente \hyperref[fig:Error de Conexion]{[PE1-Error de Conexión]}
		\item {[Aplicación de usuario]} Retorna al final de \hyperref[SUB-M-CU6:TP]{[Trayectoria Principal]} 
	\end{enumerate}
	Fin de la trayectoria alternativa.

\paragraph{Trayectoria alternativa C} \label{SUB-M-CU6:TC}
	El promedio requerido no existe en el servidor o es nulo su valor asociado.
	\begin{enumerate}[label=C\arabic*.]
		\item {[Servidor]} Asigna el valor -1 a la respuesta para el cliente.
		\item {[Aplicación de usuario]} Retorna al punto 4 de \hyperref[SUB-M-CU6:TP]{[Trayectoria Principal]}
	\end{enumerate}
	Fin de la trayectoria alternativa.

\paragraph{Trayectoria alternativa D} \label{SUB-M-CU6:TD}
	Sin conexión con el cliente.
	\begin{enumerate}[label=D\arabic*.]
		\item {[Servidor]} Aborta envió y espera por la siguiente petición.
		\item {[Aplicación de usuario]} Expira el tiempo de respuesta y se muestra la ventana emergente \hyperref[fig:Error de Conexion]{[PE1-Error de Conexión]}
		\item {[Aplicación de usuario]} Retorna al final de \hyperref[SUB-M-CU6:TP]{[Trayectoria Principal]} 
	\end{enumerate}
	Fin de la trayectoria alternativa.
	
\paragraph{Trayectoria alternativa E} \label{SUB-M-CU6:TE}
	El valor de la respuesta es -1
	\begin{enumerate}[label=E\arabic*.]
		\item {[Aplicación de usuario]} Muestra la ventana emergente \hyperref[fig:Error en el Servidor]{[PE2-Error en el Servidor]}
		\item {[Aplicación de usuario]} Regresa al final de \hyperref[SUB-M-CU6:TA]{[Trayectoria alternativa A]}
	\end{enumerate}
	Fin de la trayectoria alternativa.