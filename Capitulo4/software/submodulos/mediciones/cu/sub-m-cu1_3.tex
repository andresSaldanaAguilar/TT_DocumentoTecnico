\subsubsection{SUB-M-CU1.3-Calcular la producción de energía}\label{SUB-M-CU1.3}
La producción de energía es calculada tomando en cuenta las especificaciones de la Regla de Negocio \ref{RN4}, este cálculo se realiza en el horario establecido en la Regla de Negocio \ref{RN6} y es almacenado en el servidor embebido de acuerdo con las especificaciones de las Reglas de Negocio \ref{RN9} y \ref{RN10}.

\begin{longtable}{|J{5cm}|J{10.3cm}|}
	\hline
	\textbf{Nombre del caso de uso} &
		SUB-M-CU1.3 Calcular la producción de energía en los periodos especificados\\ \hline
	\textbf{Objetivo} &
		Obtener la producción de energía total en los periodos especificados para su almacenamiento. \\ \hline
	\textbf{Actores} &
		\begin{itemize}
		    \item Servidor embebido
		\end{itemize}\\ \hline 
	\textbf{Disparador} & 
	     {[Servidor embebido]} Recibe una trama\\ \hline 
	\textbf{Entradas} & 
		\begin{itemize}
				\item Trama proveniente del microcontrolador.
		\end{itemize}\\ \hline 
	\textbf{Salidas} & 
		\begin{itemize}
			\item Producción de energía acumulada de cada periodo.
			\item Fecha del día actual en la que se realiza el cálculo.
		\end{itemize} \\ \hline
	\textbf{Precondiciones} &
		Ninguna.\\ \hline
	\textbf{Postcondiciones} &
		\begin{itemize}
			\item El valor de generación calculado junto con la fecha del día en curso son almacenados.
		\end{itemize}\\ \hline
	\textbf{Condiciones de término} & 
		Ninguno \\ \hline 
	\textbf{Prioridad} & 
		Alta. \\ \hline
	\textbf{Errores} & 
	    Ninguno
		\\ \hline
	\textbf{Reglas de negocio} & 
		\begin{itemize}
			\item \ref{RN4}
			\item \ref{RN6}
			\item \ref{RN9}
			\item \ref{RN10}
		\end{itemize} \\ \hline

	% \caption{}
	%\label{desc:SUB-M-CU1}
\end{longtable}

\paragraph{Trayectoria principal}
\label{SUB-M-CU1.3:TP}
	\begin{enumerate}
		\item {[Servidor embebido]} Recibe el valor de generación proveniente del puerto especificado.
		
		\item {[Servidor embebido]} Abre el archivo perteneciente al nodo y microcontrolador indicado por el paquete, que es contenedor del valor de producción, suma al valor almacenado de generación de cada período (diario y mensual) el valor recibido al día y mes indicado y guarda los valores recibidos en el archivo de tiempo real.
		\hyperref[SUB-M-CU1.4:TA]{[Trayectoria Alternativa A]}
		
		\item {[Servidor embebido]}  Sobreescribe el archivo contenedor del valor.
	
	\end{enumerate}
	Fin del caso de uso.

\paragraph{Trayectoria alternativa A} \label{SUB-M-CU1.3:TA}
	El archivo contenedor del valor no existe
	\begin{enumerate}[label=A\arabic*.]
		\item {[Servidor embebido]} Crea el archivo inexistente hasta ese momento, iniciando con el valor que se recibió en ese momento como valor de producción acumulado y escribe los cambios.
	\end{enumerate}
	Fin de la trayectoria alternativa y fin de caso de uso.
